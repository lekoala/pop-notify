var C=document,c=Object,h=C.body,y="pop-notify",T=customElements,s={placement:"end",noTransition:!1,defaultDuration:5,closeSelector:".btn-close,.close,[data-close]",closeLabel:"Close",classPrefix:"notification",iconTransformer:e=>e,template:e=>{let t=s.classPrefix,i=e.icon?`<div class="${t}-icon">${s.iconTransformer(e.icon)}</div>`:"",n=e.close?`<button type="button" class="btn-close" aria-label="${s.closeLabel}'"></button>`:"",l=e.actions?`<div class="${t}-actions ${t}-actions-${e.actions.length}">${(()=>{let d="";return e.actions.forEach(r=>{d+=`<button class="${r.class}">${r.label}</button>`}),d})()}</div>`:"";return`<div class="${t} ${e.variant?`${t}-${e.variant}`:""}" role="status">
    ${e.header?`<div class="${t}-header">${i}<div class="${t}-body">${e.header}</div>${n}</div>`:""}
      <div class="${t}-content">
      ${e.icon&&!e.header?i:""}<div class="${t}-body"><span>${e.body}</span>${l}</div>${e.close&&!e.header?n:""}
      </div>
    </div>
   </div>`}};function p(){return s.noTransition?!0:window.matchMedia("(prefers-reduced-motion: reduce)")===!0||window.matchMedia("(prefers-reduced-motion: reduce)").matches===!0}function b(){return typeof HTMLElement<"u"&&typeof HTMLElement.prototype=="object"&&"popover"in HTMLElement.prototype}function u(e,t){e.dataset.bottom==="1"?e.appendChild(t):e.prepend(t)}function m(e){return e.dataset.bottom==="1"?"marginBottom":"marginTop"}function H(e){return e.dataset.bottom==="1"?"marginTop":"marginBottom"}function v(e,t=null){let[i,n]=(t||s.placement).split("-");n||(n=i,i="top"),n=="left"&&(n=h.dir=="rtl"?"end":"start"),n=="right"&&(n=h.dir=="rtl"?"start":"end"),e.dataset.bottom=i=="bottom"?"1":"0",e.style.justifyContent=n==="center"?"center":`flex-${n}`,e.style[i]="0",e.style[i=="top"?"bottom":"top"]="unset"}function A(e){b()?e.showPopover():e.style.display!="grid"&&(e.style.display="grid")}function k(e){b()?e.hidePopover():e.style.display!="none"&&(e.style.display="none")}function f(e,t,i){i===null?e.removeAttribute(t):e.setAttribute(t,i)}function w(e){let t=window.getComputedStyle(e),i=parseFloat(t.marginTop)+parseFloat(t.marginBottom);return Math.ceil(e.offsetHeight+i)}function $(){a||(a=E(),v(a,"bottom-center"),a.classList.add("pop-notify-toasts"),h.appendChild(a))}function L(){o||(o=E(),v(o),h.appendChild(o))}function E(){let e=C.createElement("div");return e.classList.add("pop-notify-container"),f(e,"aria-live","polite"),f(e,"aria-relevant","additions"),e.style.cssText="position:fixed;display:grid;overflow:hidden;inset:unset;box-sizing:border-box;width:100%;border:0;padding:var(--pop-notify-spacing, 1rem);min-height:2rem;background:transparent;",b()?e.popover="manual":(e.style.zIndex="9999",e.style.display="none"),e}function x(e){e.querySelectorAll(y).length||k(e)}var o,a=null,g=class e extends HTMLElement{constructor(){super();let t={display:"block",maxWidth:"480px",width:"var(--pop-notify-width, 350px)",overflowWrap:"anywhere"};c.assign(this.style,t),this.autohideTo=null,this.isClosing=!1,this.clickHandler=null}_setrm(t,i=""){i?f(this,t,i):f(this,t,null)}connectedCallback(){let t=this.parentElement;if(!t.classList.contains("pop-notify-container")){this.hasAttribute("toast")?($(),u(a,this)):(L(),u(o,this));return}if(!p()){let i={willChange:"opacity, transform, margin",opacity:"0",transform:"scale(0)",transition:"all var(--pop-notify-duration, 0.5s) cubic-bezier(0.165, 0.84, 0.44, 1), opacity calc(var(--pop-notify-duration, 0.5s) / 2) ease"};i[m(t)]="-2rem",c.assign(this.style,i)}this.style[H(t)]="var(--pop-notify-spacer, 1rem)",A(t),["click","mouseenter","mouseleave"].forEach(i=>{this.addEventListener(i,this)}),requestAnimationFrame(()=>{!this.querySelector(":scope > div")&&this.textContent&&(this.hasAttribute("toast")?this.innerHTML=`<div class="notification notification-simple">${this.innerHTML}</div>`:this.innerHTML=s.template({variant:this.variant,icon:this.icon,body:this.innerHTML,close:!this.autohide})),this.open()})}disconnectedCallback(){["click","mouseenter","mouseleave"].forEach(t=>{this.removeEventListener(t,this)}),this.autohideTo&&clearTimeout(this.autohideTo)}get delay(){return this.getAttribute("delay")||s.defaultDuration}set delay(t){this._setrm("delay",t)}get autohide(){return this.hasAttribute("autohide")}set autohide(t){this._setrm("autohide",t)}get variant(){return this.getAttribute("variant")||"default"}set variant(t){this._setrm("variant",t)}get icon(){return this.getAttribute("icon")}set icon(t){this._setrm("icon",t)}handleEvent(t){this[`on${t.type}`](t)}onclick(t){this._closeTriggers().forEach(i=>{i&&t.composedPath().includes(i)&&(this.close(),t.preventDefault())}),!t.defaultPrevented&&this.clickHandler&&t.target.matches("a,button")&&this.clickHandler(t,this)}_closeTriggers(){return this.querySelectorAll(s.closeSelector)}onmouseenter(t){this.autohideTo&&clearTimeout(this.autohideTo)}onmouseleave(t){this._createAutohideTimeout()}_createAutohideTimeout(){if(!this.autohide&&this._closeTriggers().length>0)return;let t=this.delay*1e3*(this.querySelectorAll("a").length+1);this.autohideTo=setTimeout(()=>{this.close()},t)}setClickHandler(t){this.clickHandler=t}open(){p()||requestAnimationFrame(()=>{let t={opacity:"1",transform:"scale(1)"};t[m(this.parentElement)]="0",c.assign(this.style,t)}),this._createAutohideTimeout()}close(){if(this.isClosing)return;this.isClosing=!0;let t=()=>{this.remove(),x(o)};if(p())t();else{this.addEventListener("transitionend",n=>{t()},{once:!0});let i={opacity:"0",transform:"scale(0)"};i[m(this.parentElement)]=`-${w(this,o)}px`,c.assign(this.style,i)}}static notifyHtml(t,i=!0){let n=new e;return n.innerHTML=t,n.autohide=i,u(o,n),n}static notify(t,i={}){typeof t=="string"&&(i=c.assign(i,{body:t})),i.autohide=typeof i.autohide>"u"?!0:!!i.autohide,i.close=typeof i.close>"u"?!0:!!i.close;let n=e.notifyHtml(s.template(i),i.autohide);i.actions&&(i.onclick=(l,d)=>{let r=[...l.target.parentElement.children].indexOf(l.target);if(i.actions[r].onclick)i.actions[r].onclick(l,d);else throw`Unhandled action on button ${r}`}),i.onclick&&n.setClickHandler(i.onclick)}static toast(t){$();let i=new e;return i.innerHTML=t,i.setAttribute("toast",""),u(a,i),i}static configure(t){c.assign(s,t),v(o)}};T.get(y)||T.define(y,g);
