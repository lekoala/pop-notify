var g=document,s=Object,T=g.body,m="pop-notify",p=customElements,o={placement:"auto",openTime:.5,closeTime:1,defaultDuration:5,closeSelector:".btn-close,.close,[data-close]",closeLabel:"Close",classPrefix:"notification",buttonClass:"btn",iconTransformer:i=>i,template:i=>{let e=o.classPrefix;return`<div class="${e} ${i.variant?`${e}-${i.variant}`:""}" role="status">
    ${i.header?`<div class="${e}-header">${i.icon?`<div class="${e}-icon">${i.icon}</div>`:""}${i.header}</div>`:""}
    <div class="${e}-content">
    ${i.icon&&!i.header?`<div class="${e}-icon">${i.icon}</div>`:""}<div class="${e}-body">${i.body}</div>
    </div>
    ${i.actions?`<div class="${e}-actions">${(()=>{let t="";return i.actions.forEach(n=>{t+=`<button class="${o.buttonClass} ${n.class}">${n.label}</button>`}),t})()}</div>`:""}
   ${i.close?`<button type="button" class="btn-close" aria-label="${o.closeLabel}'"></button>`:""}
   </div>
   </div>`}};function y(){return window.matchMedia("(prefers-reduced-motion: reduce)")===!0||window.matchMedia("(prefers-reduced-motion: reduce)").matches===!0}function f(){return typeof HTMLElement<"u"&&typeof HTMLElement.prototype=="object"&&"popover"in HTMLElement.prototype}function b(i,e){o.placement.includes("bottom")?i.appendChild(e):i.prepend(e)}function h(){return o.placement.includes("bottom")?"marginBottom":"marginTop"}function v(){return o.placement.includes("bottom")?"marginTop":"marginBottom"}function $(i){let[e,t]=o.placement.split("-");t||(t=e,e="top");let n="0";t=="center"&&(n="50%",t="left"),t=="auto"&&(t=T.dir=="rtl"?"left":"right"),i.style[t]=n,i.style.transform=n=="50%"?"translateX(-50%)":"",i.style[e]="0";let l=t=="right"?"left":"right";i.style[l]="unset";let d=e=="top"?"bottom":"top";i.style[d]="unset",f()?i.showPopover():i.style.display!="block"&&(i.style.display="block")}function k(i){f()?i.hidePopover():i.style.display!="none"&&(i.style.display="none")}function r(i,e,t){t===null?i.removeAttribute(e):i.setAttribute(e,t)}function E(i){let e=window.getComputedStyle(i),t=parseFloat(e.marginTop)+parseFloat(e.marginBottom);return Math.ceil(i.offsetHeight+t)}function H(){let i=g.createElement("div");return i.id="pop-notify-container",r(i,"aria-live","polite"),r(i,"aria-relevant","additions"),i.style.cssText="position:fixed;overflow:hidden;inset:unset;border:0;margin:var(--pop-notify-spacing, 1rem);max-width:100%;background:transparent;pointerEvents:none;",f()?i.popover="manual":s.assign(i.style,{zIndex:"9999",display:"none"}),i}function w(i){i.querySelectorAll(m).length||k(i)}var a=H();T.appendChild(a);var c=class extends HTMLElement{constructor(){super();let e={display:"block",maxWidth:"100%",width:"var(--pop-notify-width, 350px)",opacity:"0",transform:"scale(0)",overflowWrap:"anywhere"};e[v()]="var(--pop-notify-spacer, 1rem)",e[h()]="-2rem",s.assign(this.style,e),this.autohideTo=null,this.closeTo=null,this.clickHandler=null}_setrm(e,t=""){t?r(this,e,t):r(this,e,null)}connectedCallback(){$(a),a.contains(this)||b(a,this),["click","mouseenter","mouseleave"].forEach(e=>{this.addEventListener(e,this)}),this.open()}disconnectedCallback(){["click","mouseenter","mouseleave"].forEach(e=>{this.removeEventListener(e,this)}),this.autohideTo&&clearTimeout(this.autohideTo),this.closeTo&&clearTimeout(this.closeTo)}get delay(){return this.getAttribute("delay")||o.defaultDuration}set delay(e){this._setrm("delay",e)}get autohide(){return this.hasAttribute("autohide")}set autohide(e){this._setrm("autohide",e)}handleEvent(e){this[`on${e.type}`](e)}onclick(e){this._closeTriggers().forEach(t=>{t&&e.composedPath().includes(t)&&(this.close(),e.preventDefault())}),!e.defaultPrevented&&this.clickHandler&&e.target.matches("a,button")&&this.clickHandler(e,this)}_closeTriggers(){return this.querySelectorAll(o.closeSelector)}onmouseenter(e){this.autohideTo&&clearTimeout(this.autohideTo)}onmouseleave(e){this._createAutohideTimeout()}_createAutohideTimeout(){if(!this.autohide&&this._closeTriggers().length>0)return;let e=this.delay*1e3*(this.querySelectorAll("a").length+1);this.autohideTo=setTimeout(()=>{this.close()},e)}setClickHandler(e){this.clickHandler=e}open(){y()||setTimeout(()=>{let e=o.openTime*500,t={transition:`all ${e}ms cubic-bezier(0.165, 0.84, 0.44, 1), opacity ${e/2}ms ease`,opacity:"1",transform:"scale(1)"};t[h()]="0",s.assign(this.style,t)},12),this._createAutohideTimeout()}close(){if(this.closeTo)return;let e=0;if(!y()){e=o.closeTime*1e3;let t={transition:`all ${e}ms cubic-bezier(0.165, 0.84, 0.44, 1), opacity ${e/4}ms ease`,opacity:"0",transform:"scale(0)"};t[h()]=`-${E(this)}px`,s.assign(this.style,t)}this.closeTo=setTimeout(()=>{this.remove(),w(a)},e)}static notifyHtml(e,t=!0){let n=new c;return n.innerHTML=e,n.autohide=t,b(a,n),n}static notify(e,t={}){typeof e=="string"&&(t=s.assign(t,{body:e})),t.autohide=typeof t.autohide>"u"?!0:!!t.autohide,t.close=typeof t.close>"u"?!0:!!t.close,t.icon&&(t.icon=o.iconTransformer(t.icon));let n=c.notifyHtml(o.template(t),t.autohide);t.actions&&(t.onclick=(l,d)=>{let u=[...l.target.parentElement.children].indexOf(l.target);if(t.actions[u].onclick)t.actions[u].onclick(l,d);else throw`Unhandled action on button ${u}`}),t.onclick&&n.setClickHandler(t.onclick)}static configure(e){s.assign(o,e)}};p.get(m)||p.define(m,c);
